{"version":3,"sources":["fixtures.js","utils.js","index.js"],"names":["currencyByDate","EUR","USD","PLN","formatDateForRequest","date","mm","getMonth","dd","getDate","getFullYear","join","module","hot","accept","window","dataStore","currentCurrency","currentDate","Date","renderApp","setCurrency","value","document","getElementById","innerHTML","app","exchangeRateToday","chooseCurrency","chooseDate","ratesForToday","yesterday","setDate","ratesForYesterday","exchangeRateYesterday","displayExchangeRateToday","toFixed","currency","exchangeRate","rateDifference","rateDifferenceStr","toLocaleDateString","setCurrencyCB","content","map","toISOString","split"],"mappings":"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","file":"kottans-own-framework.88f3df2e.js","sourceRoot":"..","sourcesContent":["// https://bank.gov.ua/NBUStatService/v1/statdirectory/exchange?valcode=EUR&date=20200302&json\nexport const currencyByDate = {\n  \"20210421\": {\n    \"EUR\": [\n      {\n        \"r030\": 978,\n        \"txt\": \"Євро\",\n        \"rate\": 26.9789,\n        \"cc\": \"EUR\",\n        \"exchangedate\": \"02.03.2020\"\n      }\n    ],\n    \"USD\": [\n      {\n        \"r030\": 840,\n        \"txt\": \"Долар США\",\n        \"rate\": 24.5976,\n        \"cc\": \"USD\",\n        \"exchangedate\": \"02.03.2020\"\n      }\n    ],\n    \"PLN\": [\n      {\n        \"r030\": 985,\n        \"txt\": \"Злотий\",\n        \"rate\": 6.237,\n        \"cc\": \"PLN\",\n        \"exchangedate\": \"02.03.2020\"\n      }\n    ]\n  },\n  \"20210420\": {\n    \"EUR\": [\n      {\n        \"r030\": 978,\n        \"txt\": \"Євро\",\n        \"rate\": 25.3789,\n        \"cc\": \"EUR\",\n        \"exchangedate\": \"02.03.2020\"\n      }\n    ],\n    \"USD\": [\n      {\n        \"r030\": 840,\n        \"txt\": \"Долар США\",\n        \"rate\": 23.1414,\n        \"cc\": \"USD\",\n        \"exchangedate\": \"02.03.2020\"\n      }\n    ],\n    \"PLN\": [\n      {\n        \"r030\": 985,\n        \"txt\": \"Злотий\",\n        \"rate\": 7.444,\n        \"cc\": \"PLN\",\n        \"exchangedate\": \"02.03.2020\"\n      }\n    ]\n  }\n};\n","export const EUR = 'EUR';\nexport const USD = 'USD';\nexport const PLN = 'PLN';\n\nexport function formatDateForRequest(date) {\n  // 02-03-2020 will be like `20200302`\n  // from https://stackoverflow.com/a/3067896/10849913\n  const mm = date.getMonth() + 1; // getMonth() is zero-based\n  const dd = date.getDate();\n\n  return [date.getFullYear(),\n          (mm>9 ? '' : '0') + mm,\n          (dd>9 ? '' : '0') + dd\n         ].join('');\n}\n","import {currencyByDate} from './fixtures';\n\nimport {EUR, formatDateForRequest, PLN, USD,} from './utils';\n\nif (module.hot) {\n  module.hot.accept();\n}\n\nwindow.dataStore = {\n  currentCurrency: USD,\n  currentDate: new Date('April 21, 21'),\n};\n\nwindow.renderApp = renderApp;\n\nconst setCurrency = function (value) {\n  window.dataStore.currentCurrency = value;\n  window.renderApp();\n};\n\nrenderApp();\n\nfunction renderApp() {\n  document.getElementById('app-root').innerHTML = `\n        ${app()}\n    `;\n}\n\n\nfunction app() {\n  return `<div class=\"container py-5\" class=\"p-5 mb-4 bg-light rounded-3\">\n  ${exchangeRateToday()}\n  <div class=\"row align-items-start\">\n      <div class=\"col-6\">\n      ${chooseCurrency(window.dataStore.currentCurrency, setCurrency)}\n      ${chooseDate()}\n </div>\n</div>`;\n}\n\n\nfunction exchangeRateToday() {\n  const {currentCurrency, currentDate} = window.dataStore;\n\n  const ratesForToday = currencyByDate[formatDateForRequest(currentDate)];\n  const exchangeRateToday = (\n    ratesForToday ? ratesForToday[currentCurrency][0][\"rate\"] : null\n  );\n\n  const yesterday = new Date(currentDate);\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  const ratesForYesterday = currencyByDate[formatDateForRequest(yesterday)];\n  const exchangeRateYesterday = (\n    ratesForYesterday ? ratesForYesterday[currentCurrency][0][\"rate\"] : null\n  );\n\n  const rateDifference = (\n    exchangeRateToday && exchangeRateYesterday\n      ? (exchangeRateToday - exchangeRateYesterday).toFixed(2) : null\n  );\n\n  return displayExchangeRateToday(\n    currentCurrency, exchangeRateToday, currentDate, rateDifference\n  );\n}\n\n\nfunction displayExchangeRateToday(currency, exchangeRate, date, rateDifference) {\n  exchangeRate = exchangeRate || 'Not Available';\n\n  const dateString = date.toLocaleDateString();\n\n  let rateDifferenceStr = '';\n  if (rateDifference) {\n    const differenceStyle = rateDifference > 0 ? 'success' : 'danger';\n    const sign = rateDifference > 0 ? '+' : '';\n    rateDifferenceStr = (\n      `<span class=\"text-${differenceStyle} fs-3\">${sign}${rateDifference}</span>`\n    );\n  }\n\n  return `\n  <h1 class=\"display-5 fw-bold\">\n      <span class=\"text-secondary\">${currency}:</span>\n      ${exchangeRate}\n      ${rateDifferenceStr}      \n  </h1>\n    <p class=\"text-secondary\">\n      Rate for ${dateString}\n  </p> \n  `\n}\n\n\nfunction chooseCurrency(currentCurrency, setCurrencyCB) {\n  const currencies = [\n    {value: USD},\n    {value: EUR},\n    {value: PLN},\n  ];\n  let content = `\n    <label for=\"id_select\">Choose currency:</label>\n    <select id=\"id_select\" class=\"form-select\" \n    autofocus=\"true\" onchange=\"(${setCurrencyCB})(this.value);\">\n  `;\n\n  content += currencies.map(({value}) => {\n    const selected = currentCurrency === value ? 'selected' : '';\n    return `<option value=\"${value}\" ${selected}>${value}</option>`;\n  }).join('');\n  content += `</select>`;\n  return content\n}\n\n\nfunction chooseDate() {\n  const currentDate = window.dataStore.currentDate;\n  // get date in `yyyy-mm-dd` format\n  const dateStr = currentDate.toISOString().split('T')[0];\n\n  return `\n    <div class=\"mt-3\">\n        <label for=\"dateInput\" class=\"form-label\">Choose date:</label>\n        <input type=\"date\"\n               value=\"${dateStr}\"\n               onchange=\"window.dataStore.currentDate = new Date(this.value); \n                window.renderApp();\"\n               class=\"form-control\"\n               id=\"dateInput\">\n    </div>\n`;\n}\n"]}